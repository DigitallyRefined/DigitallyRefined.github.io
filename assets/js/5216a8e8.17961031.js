/*! For license information please see 5216a8e8.17961031.js.LICENSE.txt */
"use strict";(self.webpackChunkdigitally_refined=self.webpackChunkdigitally_refined||[]).push([[83],{7492:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>c,toc:()=>u});var i=t(5893),s=t(1151),o=t(3901),a=t(4208);const r={sidebar_position:3,slug:"/guides/Everything-Presence-Lite-sensor",last_update:{date:new Date("2023-11-07T00:00:00.000Z")}},l="Everything Presence Lite sensor",c={id:"guides/2023-11-06-Everything-Presence-Lite-sensor",title:"Everything Presence Lite sensor",description:"The Everything Presence Lite sensor was release in October 2023 for \xa328 or around $30 (plus postage) from Everything Smart Technology.",source:"@site/docs/guides/2023-11-06-Everything-Presence-Lite-sensor.mdx",sourceDirName:"guides",slug:"/guides/Everything-Presence-Lite-sensor",permalink:"/guides/Everything-Presence-Lite-sensor",draft:!1,unlisted:!1,editUrl:"https://github.com/DigitallyRefined/DigitallyRefined.github.io/tree/main/docs/guides/2023-11-06-Everything-Presence-Lite-sensor.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,slug:"/guides/Everything-Presence-Lite-sensor",last_update:{date:"2023-11-07T00:00:00.000Z"}},sidebar:"tutorialSidebar",previous:{title:"",permalink:"/"},next:{title:"Tailscale & Headscale",permalink:"/guides/Tailscale-Headscale-setup"}},d={},u=[{value:"Video",id:"video",level:2},{value:"Features",id:"features",level:2},{value:"Pros",id:"pros",level:2},{value:"Cons",id:"cons",level:2},{value:"Home Assistant automations",id:"home-assistant-automations",level:2},{value:"On - Lights on when dark &amp; presence detected",id:"on---lights-on-when-dark--presence-detected",level:3},{value:"Off - Lights (no occupancy)",id:"off---lights-no-occupancy",level:3},{value:"Home Assistant scripts",id:"home-assistant-scripts",level:2},{value:"Off - Slowly turn off lights (no occupancy)",id:"off---slowly-turn-off-lights-no-occupancy",level:3}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"everything-presence-lite-sensor",children:"Everything Presence Lite sensor"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"https://shop.everythingsmart.io/products/everything-presence-lite",children:"Everything Presence Lite"})," sensor was release in October 2023 for \xa328 or around $30 (plus postage) from ",(0,i.jsx)(n.a,{href:"https://shop.everythingsmart.io",children:"Everything Smart Technology"}),"."]}),"\n","\n",(0,i.jsx)(o.Z,{toc:u}),"\n",(0,i.jsx)(n.h2,{id:"video",children:"Video"}),"\n","\n","\n",(0,i.jsx)(a.Z,{id:"HABmLjZ2mWQ",title:"Everything Presence Lite sensor - Quick look, unboxing and setup",poster:"maxresdefault",webp:!0}),"\n",(0,i.jsx)("a",{href:"https://youtu.be/HABmLjZ2mWQ",children:"Watch on YouTube"}),"\n",(0,i.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Precise mmWave radar motion detector"}),"\n",(0,i.jsx)(n.li,{children:"Light luminosity (or room brightness) sensor"}),"\n",(0,i.jsx)(n.li,{children:"WiFi"}),"\n",(0,i.jsx)(n.li,{children:"Bluetooth repeater/Home Assistant proxy"}),"\n",(0,i.jsx)(n.li,{children:"ESP32 (can be extended using GPIO pins)"}),"\n",(0,i.jsx)(n.li,{children:"3D printed case"}),"\n",(0,i.jsx)(n.li,{children:"USB-C"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"pros",children:"Pros"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Relatively inexpensive way to add presence, motion and room brightness data to your smart home"}),"\n",(0,i.jsx)(n.li,{children:"Much more sensitive than a regular PIR motion sensor and can easily detect people that are sitting still"}),"\n",(0,i.jsx)(n.li,{children:"Can perform automatons based on sensor data, such as turning on/off lights"}),"\n",(0,i.jsx)(n.li,{children:"Beta zones feature can perform different actions/automations based on where the motion/presence was detected"}),"\n",(0,i.jsx)(n.li,{children:"Can see through thin walls"}),"\n",(0,i.jsx)(n.li,{children:"Can extend your Home Assistant Bluetooth range via proxy"}),"\n",(0,i.jsx)(n.li,{children:"Good quality braided cable"}),"\n",(0,i.jsx)(n.li,{children:"Works with Home Assistant via WiFi"}),"\n",(0,i.jsx)(n.li,{children:"USB-C powered"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"cons",children:"Cons"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Not always in stock since they're a relative small startup business"}),"\n",(0,i.jsx)(n.li,{children:"Setting up different zones can be tricky, as it's a beta feature requiring trial and error defining coordinates in 3D space by using start and end X/Y millimetre values"}),"\n",(0,i.jsx)(n.li,{children:"It's capable of detecting small movements such as breathing, however I was able to sit still long enough for it to give me a false positive and detect me as away (though sensitivity can be calibrated, to fix this)"}),"\n",(0,i.jsx)(n.li,{children:"Only available in white"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"home-assistant-automations",children:"Home Assistant automations"}),"\n",(0,i.jsx)(n.p,{children:"Note: you'll need to paste this in YAML mode then switch back to the visual editor you should then be able to update the device/light IDs."}),"\n",(0,i.jsx)(n.h3,{id:"on---lights-on-when-dark--presence-detected",children:"On - Lights on when dark & presence detected"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",children:'alias: On - Lights on when dark & presence detected\ndescription: ""\ntrigger:\n  - platform: sun\n    event: sunset\n    offset: "-00:30:00"\n  - type: illuminance\n    platform: device\n    entity_id: sensor.epl_presence_illuminance\n    domain: sensor\n    for:\n      hours: 0\n      minutes: 0\n      seconds: 20\n    below: 2.7\n  - platform: state\n    entity_id:\n      - binary_sensor.epl_presence_occupancy\n    to: "on"\n  - platform: state\n    entity_id:\n      - person.DigitallyRefined\n    from: not_home\n    to: home\ncondition:\n  - condition: time\n    before: "21:55:00"\n  - condition: device\n    type: is_off\n    device_id: <pick your light>\n    domain: light\n  - condition: or\n    conditions:\n      - type: is_illuminance\n        condition: device\n        entity_id: sensor.epl_presence_illuminance\n        domain: sensor\n        below: 2.7\n      - condition: sun\n        after: sunset\n        after_offset: "-00:30:00"\n  - condition: numeric_state\n    entity_id: zone.home\n    above: 0\n  - condition: state\n    entity_id: binary_sensor.epl_presence_occupancy\n    state: "on"\n  # Optional condition based on a Zigbee button press to prevent lights from automatically turning on again\n  # (within 1 hour when they have been manually be turned off)\n  - condition: template\n    value_template: >-\n      {{ ((as_timestamp(now()) -\n      as_timestamp(states.scene.lights_off_manually_triggered.state)) > 3600) or\n      (as_timestamp(states.scene.lights_on.state) >\n      as_timestamp(states.scene.lights_off_manually_triggered.state)) }}\naction:\n  - service: scene.turn_on\n    target:\n      entity_id: scene.lights_on\n    metadata: {}\nmode: single\n'})}),"\n",(0,i.jsx)(n.h3,{id:"off---lights-no-occupancy",children:"Off - Lights (no occupancy)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'alias: Off - Lights (no occupancy)\ndescription: ""\ntrigger:\n  - platform: state\n    entity_id:\n      - binary_sensor.epl_presence_occupancy\n    from: "on"\n    to: "off"\ncondition:\n  - condition: device\n    type: is_on\n    device_id: <pick your light>\n    domain: switch\n  # Optional condition to check if a Smart TV is not current being used\n  - condition: not\n    conditions:\n      - condition: device\n        domain: media_player\n        entity_id: <pick your Android TV or streaming device>\n        type: is_playing\naction:\n  - service: script.slowly_turn_off_lights_no_occupancy\n    data: {}\nmode: single\n'})}),"\n",(0,i.jsx)(n.h2,{id:"home-assistant-scripts",children:"Home Assistant scripts"}),"\n",(0,i.jsx)(n.h3,{id:"off---slowly-turn-off-lights-no-occupancy",children:"Off - Slowly turn off lights (no occupancy)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'alias: Off - Slowly turn off lights (no occupancy)\nsequence:\n  - if:\n      - condition: state\n        entity_id: binary_sensor.epl_presence_occupancy\n        state: "off"\n    then:\n      - type: turn_off\n        entity_id: <choose first light>\n        domain: light\n      - delay:\n          hours: 0\n          minutes: 0\n          seconds: 10\n          milliseconds: 0\n      - if:\n          - condition: state\n            entity_id: binary_sensor.epl_presence_occupancy\n            state: "off"\n        then:\n          - type: turn_off\n            entity_id: <choose second light>\n            domain: light\n          - delay:\n              hours: 0\n              minutes: 0\n              seconds: 10\n              milliseconds: 0\n          - if:\n              - condition: state\n                entity_id: binary_sensor.epl_presence_occupancy\n                state: "off"\n            then:\n              - type: turn_off\n                entity_id: <choose third light etc...>\n                domain: switch\nmode: single\nicon: mdi:lightbulb-multiple-off-outline\n'})})]})}function m(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},3901:(e,n,t)=>{t.d(n,{Z:()=>a});t(7294);var i=t(3743);const s={tableOfContentsInline:"tableOfContentsInline_prmo"};var o=t(5893);function a(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:a}=e;return(0,o.jsx)("div",{className:s.tableOfContentsInline,children:(0,o.jsx)(i.Z,{toc:n,minHeadingLevel:t,maxHeadingLevel:a,className:"table-of-contents",linkClassName:null})})}},3743:(e,n,t)=>{t.d(n,{Z:()=>f});var i=t(7294),s=t(6668);function o(e){const n=e.map((e=>({...e,parentIndex:-1,children:[]}))),t=Array(7).fill(-1);n.forEach(((e,n)=>{const i=t.slice(2,e.level);e.parentIndex=Math.max(...i),t[e.level]=n}));const i=[];return n.forEach((e=>{const{parentIndex:t,...s}=e;t>=0?n[t].children.push(s):i.push(s)})),i}function a(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:i}=e;return n.flatMap((e=>{const n=a({toc:e.children,minHeadingLevel:t,maxHeadingLevel:i});return function(e){return e.level>=t&&e.level<=i}(e)?[{...e,children:n}]:n}))}function r(e){const n=e.getBoundingClientRect();return n.top===n.bottom?r(e.parentNode):n}function l(e,n){let{anchorTopOffset:t}=n;const i=e.find((e=>r(e).top>=t));if(i){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(r(i))?i:e[e.indexOf(i)-1]??null}return e[e.length-1]??null}function c(){const e=(0,i.useRef)(0),{navbar:{hideOnScroll:n}}=(0,s.L)();return(0,i.useEffect)((()=>{e.current=n?0:document.querySelector(".navbar").clientHeight}),[n]),e}function d(e){const n=(0,i.useRef)(void 0),t=c();(0,i.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:i,linkActiveClassName:s,minHeadingLevel:o,maxHeadingLevel:a}=e;function r(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(i),r=function(e){let{minHeadingLevel:n,maxHeadingLevel:t}=e;const i=[];for(let s=n;s<=t;s+=1)i.push(`h${s}.anchor`);return Array.from(document.querySelectorAll(i.join()))}({minHeadingLevel:o,maxHeadingLevel:a}),c=l(r,{anchorTopOffset:t.current}),d=e.find((e=>c&&c.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,t){t?(n.current&&n.current!==e&&n.current.classList.remove(s),e.classList.add(s),n.current=e):e.classList.remove(s)}(e,e===d)}))}return document.addEventListener("scroll",r),document.addEventListener("resize",r),r(),()=>{document.removeEventListener("scroll",r),document.removeEventListener("resize",r)}}),[e,t])}var u=t(9960),h=t(5893);function m(e){let{toc:n,className:t,linkClassName:i,isChild:s}=e;return n.length?(0,h.jsx)("ul",{className:s?void 0:t,children:n.map((e=>(0,h.jsxs)("li",{children:[(0,h.jsx)(u.Z,{to:`#${e.id}`,className:i??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,h.jsx)(m,{isChild:!0,toc:e.children,className:t,linkClassName:i})]},e.id)))}):null}const p=i.memo(m);function f(e){let{toc:n,className:t="table-of-contents table-of-contents__left-border",linkClassName:r="table-of-contents__link",linkActiveClassName:l,minHeadingLevel:c,maxHeadingLevel:u,...m}=e;const f=(0,s.L)(),g=c??f.tableOfContents.minHeadingLevel,y=u??f.tableOfContents.maxHeadingLevel,v=function(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:s}=e;return(0,i.useMemo)((()=>a({toc:o(n),minHeadingLevel:t,maxHeadingLevel:s})),[n,t,s])}({toc:n,minHeadingLevel:g,maxHeadingLevel:y});return d((0,i.useMemo)((()=>{if(r&&l)return{linkClassName:r,linkActiveClassName:l,minHeadingLevel:g,maxHeadingLevel:y}}),[r,l,g,y])),(0,h.jsx)(p,{toc:v,className:t,linkClassName:r,...m})}},4208:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(7294),s=function(){return s=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},s.apply(this,arguments)};var o=i.forwardRef((function(e,n){var t=i.useState(!1),o=t[0],a=t[1],r=i.useState(!1),l=r[0],c=r[1],d=encodeURIComponent(e.id),u="string"==typeof e.playlistCoverId?encodeURIComponent(e.playlistCoverId):null,h=e.title,m=e.poster||"hqdefault",p="&".concat(e.params)||0,f=e.muted?"&mute=1":"",g=e.announce||"Watch",y=e.webp?"webp":"jpg",v=e.webp?"vi_webp":"vi",x=e.thumbnail||(e.playlist?"https://i.ytimg.com/".concat(v,"/").concat(u,"/").concat(m,".").concat(y):"https://i.ytimg.com/".concat(v,"/").concat(d,"/").concat(m,".").concat(y)),b=e.noCookie;b=e.cookie?"https://www.youtube.com":"https://www.youtube-nocookie.com";var _=e.playlist?"".concat(b,"/embed/videoseries?autoplay=1").concat(f,"&list=").concat(d).concat(p):"".concat(b,"/embed/").concat(d,"?autoplay=1&state=1").concat(f).concat(p),j=e.activatedClass||"lyt-activated",w=e.adNetwork||!1,L=e.aspectHeight||9,k=e.aspectWidth||16,C=e.iframeClass||"",E=e.playerClass||"lty-playbtn",H=e.wrapperClass||"yt-lite",N=e.onIframeAdded||function(){},O=e.rel?"prefetch":"preload",P=e.containerElement||"article";return i.useEffect((function(){l&&N()}),[l]),i.createElement(i.Fragment,null,i.createElement("link",{rel:O,href:x,as:"image"}),i.createElement(i.Fragment,null,o&&i.createElement(i.Fragment,null,i.createElement("link",{rel:"preconnect",href:b}),i.createElement("link",{rel:"preconnect",href:"https://www.google.com"}),w&&i.createElement(i.Fragment,null,i.createElement("link",{rel:"preconnect",href:"https://static.doubleclick.net"}),i.createElement("link",{rel:"preconnect",href:"https://googleads.g.doubleclick.net"})))),i.createElement(P,{onPointerOver:function(){o||a(!0)},onClick:function(){l||c(!0)},className:"".concat(H," ").concat(l?j:""),"data-title":h,style:s({backgroundImage:"url(".concat(x,")")},{"--aspect-ratio":"".concat(L/k*100,"%")})},i.createElement("button",{type:"button",className:E,"aria-label":"".concat(g," ").concat(h)}),l&&i.createElement("iframe",{ref:n,className:C,title:h,width:"560",height:"315",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:_})))}))},1151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>a});var i=t(7294);const s={},o=i.createContext(s);function a(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);